<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Accounting Voucher - Bilal Accounting System</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet">
    <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css" rel="stylesheet">
    <link href="/css/desktop-style.css" rel="stylesheet">
    <link href="/css/sidebar.css" rel="stylesheet">
    <style>
        .voucher-container {
            display: flex;
            flex-direction: column;
            gap: 15px;
            padding: 15px;
            height: calc(100vh - 60px);
        }

        .header-form {
            background: #fff;
            padding: 15px;
            border-radius: 4px;
            border: 1px solid #ddd;
        }

        .grid-section {
            flex: 1;
            background: #fff;
            border-radius: 4px;
            border: 1px solid #ddd;
            display: flex;
            flex-direction: column;
        }

        .entry-row {
            background: #f8f9fa;
            padding: 10px;
            border-bottom: 1px solid #ddd;
        }

        .totals-bar {
            background: #e9ecef;
            padding: 10px;
            font-weight: bold;
            display: flex;
            justify-content: flex-end;
            gap: 20px;
        }

        .total-box {
            padding: 5px 15px;
            border-radius: 4px;
            min-width: 150px;
            display: flex;
            justify-content: space-between;
        }

        .total-box.debit {
            background: #d4edda;
            color: #155724;
        }

        .total-box.credit {
            background: #f8d7da;
            color: #721c24;
        }
    </style>
</head>

<body>
    <div class="page-header">
        <div><i class="fas fa-book me-2"></i> Voucher Entry</div>
        <div>
            <a href="/main.html" class="btn btn-outline-light btn-sm"><i class="fas fa-home"></i> Home</a>
        </div>
    </div>

    <div class="voucher-container">
        <!-- Header -->
        <div class="header-form">
            <div class="row g-3">
                <div class="col-md-2">
                    <label class="form-label small fw-bold">Voucher Type</label>
                    <select id="voucherType" class="form-select form-select-sm">
                        <option value="journal">Journal Voucher</option>
                        <option value="payment">Payment Voucher</option>
                        <option value="receipt">Receipt Voucher</option>
                        <option value="contra">Contra Voucher</option>
                    </select>
                </div>
                <div class="col-md-2">
                    <label class="form-label small fw-bold">Voucher No</label>
                    <input type="text" id="voucherNo" class="form-control form-control-sm" readonly placeholder="Auto">
                </div>
                <div class="col-md-2">
                    <label class="form-label small fw-bold">Date</label>
                    <input type="date" id="voucherDate" class="form-control form-control-sm">
                </div>
                <div class="col-md-2">
                    <label class="form-label small fw-bold">Branch</label>
                    <select id="branch" class="form-select form-select-sm">
                        <option value="Shop">Shop</option>
                    </select>
                </div>
                <div class="col-md-4">
                    <label class="form-label small fw-bold">Narration (Main)</label>
                    <input type="text" id="narration" class="form-control form-control-sm">
                </div>
            </div>
        </div>

        <!-- Entry Row (Quick Add) -->
        <div class="entry-row">
            <div class="row g-2 align-items-end">
                <div class="col-md-4">
                    <label class="small fw-bold">Account</label>
                    <select id="accountSelect" class="form-select form-select-sm"></select>
                </div>
                <div class="col-md-3">
                    <label class="small fw-bold">Detail</label>
                    <input type="text" id="lineDetail" class="form-control form-control-sm">
                </div>
                <div class="col-md-2">
                    <label class="small fw-bold">Debit</label>
                    <input type="number" id="lineDebit" class="form-control form-control-sm" value="0">
                </div>
                <div class="col-md-2">
                    <label class="small fw-bold">Credit</label>
                    <input type="number" id="lineCredit" class="form-control form-control-sm" value="0">
                </div>
                <div class="col-md-1">
                    <button class="btn btn-primary btn-sm w-100" onclick="addEntry()">Add</button>
                </div>
            </div>
        </div>

        <!-- Grid -->
        <div class="grid-section">
            <div class="table-responsive flex-1">
                <table class="table table-bordered table-sm mb-0">
                    <thead class="table-light">
                        <tr>
                            <th>Account</th>
                            <th>Detail</th>
                            <th class="text-end">Debit</th>
                            <th class="text-end">Credit</th>
                            <th width="50">Act</th>
                        </tr>
                    </thead>
                    <tbody id="voucherEntriesBody">
                    </tbody>
                </table>
            </div>

            <div class="totals-bar">
                <div class="total-box debit">
                    <span>Total Debit:</span>
                    <span id="totalDebit">0.00</span>
                </div>
                <div class="total-box credit">
                    <span>Total Credit:</span>
                    <span id="totalCredit">0.00</span>
                </div>
            </div>
        </div>

        <div class="d-flex gap-2">
            <button class="btn btn-success" onclick="saveVoucher()" data-action="save"><i class="fas fa-save"></i>
                Save</button>
            <button class="btn btn-warning" onclick="clearForm()"><i class="fas fa-redo"></i> Clear</button>
            <button class="btn btn-info" onclick="loadVoucherList()"><i class="fas fa-list"></i> List</button>
        </div>
    </div>

    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/js/bootstrap.bundle.min.js"></script>
    <script src="/js/pageAccess.js"></script>
    <script src="/js/sidebar.js"></script>
    <script src="/js/desktop-ui.js?v=custom"></script>
    <script src="/js/vouchers.js"></script>
</body>

</html>